@startuml
!theme plain
skinparam backgroundColor white
skinparam defaultFontName Arial
skinparam defaultFontColor black
skinparam arrowColor black
skinparam shadowing false

title Validación de formulario de contacto

start
:1. Inicio validateAndSendContactForm;

if (2. ¿formData válido?) then (No)
  :2a. Lanzar error: "Se requieren los datos del formulario";
  stop
else (Sí)
  :2b. Extraer campos del formulario;
  
  if (3. ¿Nombre válido?) then (No)
    :3a. Retornar error nombre;
    stop
  else (Sí)
    if (4. ¿Email válido?) then (No)
      :4a. Retornar error email;
      stop
    else (Sí)
      if (5. ¿Asunto válido?) then (No)
        :5a. Retornar error asunto;
        stop
      else (Sí)
        if (6. ¿Mensaje válido?) then (No)
          :6a. Retornar error mensaje;
          stop
        else (Sí)
          partition "try {" {
            :6b. Enviar mensaje al servidor;
            :6c. Retornar resultado exitoso;
          }
          
          partition "} catch {" {
            :7. Registrar error y lanzar excepción;
            stop
          }
        endif
      endif
    endif
  endif
endif

@enduml 